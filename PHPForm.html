<html lang="en"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunch Form</title>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <h1>Homework Example</h1>

        <div id="example">
            <h3>Example PHP Form Viewers:</h3>
            <br>
            <label for="fv">
                <em>These are some examples of PHP responses that show results of a form submitted to a server. To see an example of what your form viewer for your homework should do, you can paste a URL into the 'Form Processor' field, then alter the form and 'Submit' (ie: Order Lunch) to see the results. It's not neccessary to include this portion in your homework -- it is just to give you some examples.</em><p></p>
                <ul>
                    <li><b onclick="fv.value='form-viewer.php'; handleInput()">form-viewer.php</b> (On the same server as this html file; all that's needed is the relative path) </li>
                    <li><b onclick="fv.value='https://wp.zybooks.com/form-viewer.php', handleInput()">https://wp.zybooks.com/form-viewer.php</b> (A different server; absolute path must be provided)</li>
                    <li><b onclick="fv.value='formexample.txt', handleInput()">formexample.txt</b> (The server <em>shows</em> php code as text to get you started on the homework)</li>
                    <li><b onclick="fv.value='formexample.php', handleInput()">formexample.php</b> (The server <em>runs</em> the code from the previous example)</li>
                </ul>
                <input id="fv" type="text" value="form-viewer.php" placeholder="URL of a PHP form viewer. Try your own!">
            </label>
            <h3>Send with: <span id="method">GET</span></h3>
            <div id="getOrPost">
                <input type="radio" name="send_method" id="get" value="GET" checked=""><label for="get">GET</label>
                <input type="radio" name="send_method" id="post" value="POST"><label for="post">POST</label>
            </div>
        </div>

    <h2>Zoo Trip Planning</h2>

        <form id="exForm" action="form-viewer.php" method="GET">

        <fieldset><legend>Stay Duration and Animal Choice</legend>
            
            <input type="radio" name="time" id="rd1" value="1hr">
            <label for="rd1">1 hour</label><br>
            
            <input type="radio" name="time" id="rd2" value="2hr">
            <label for="rd1">2 hours</label><br>

            <input type="radio" name="time" id="rd3" value="3hr">
            <label for="rd1">3 hours</label><br>

            <input type="radio" name="time" id="rd4" value="4hr">
            <label for="rd1">4 hours</label><br>

            <br>
            
            <input type="checkbox" name="penguins" id="cb1">
            <label for="cb1">Penguins</label><br>

            <input type="checkbox" name="jaguars" id="cb2">
            <label for="cb2">Jaguars</label><br>

            <input type="checkbox" name="elephants" id="cb3">
            <label for="cb3">Elephants</label><br>

            <input type="checkbox" name="peacocks" id="cb4">
            <label for="cb4">Peacocks</label><br>

            <input type="checkbox" name="snakes" id="cb5">
            <label for="cb5">Snakes</label><br>
            
            <input type="checkbox" name="bears" id="cb6">
            <label for="cb6">Bears</label><br>
        </fieldset>
        <br>
        <fieldset><legend>Snack Choice and Trip Dinner</legend>
            <label for="snack">Snack:</label>
            <select name="snack" id="snack">
                <optgroup label="Homemade">
                    <option value="homemade_tm">Trail Mix</option>
                    <option value="pbj">PB & J</option>
                </optgroup>
                <optgroup label="Store">
                    <option value="granola" selected="">Granola Bar</option>
                    <option value="store_tm">Trail Mix</option>
                </optgroup>
            </select><br><br>

            <label for="drink">Drink:</label>
            <select name="drink[]" id="drink" size="2" multiple="">
                <option value="water">Water</option>
                <option value="oj">Orange Juice</option>
                <option value="lemonade">Lemonade</option>
                <option value="7up">7 Up</option>
                <option value="coke">Coca Cola</option>
                <option value="pepsi">Pepsi</option>
                <option value="dr_pep">Dr Pepper</option>
            </select><br>
        </fieldset>
        <br>
        <input type="submit" value="Submit Choices">        
        </form>



    <script>
        // get the first (and only) form element; get it's value
        const form = document.querySelector("form");

        // set GET or POST options
        const radioButtons = document.querySelectorAll('input[name="send_method"]');
        const method = document.getElementById("method");
        let selectedValue;
        const getOrPost = document.getElementById("getOrPost")
        getOrPost.addEventListener("click", ()=> {
            radioButtons.forEach(radioButton => {
                if (radioButton.checked) {
                    method.innerHTML = radioButton.value;
                    form.setAttribute("method", radioButton.value)
                }
            })
        })
        
        

        // get the input box element
        const fvbox = document.getElementById("fv");
        // on input, evaluate task...
        fvbox.addEventListener("input", handleInput);

        function handleInput() {
            // if it's there, change form action to input box string
            if(fvbox.value != ""){
                form.setAttribute("action", fvbox.value)
            }
            else {
                fvdefault = "form-viewer.php";
                form.setAttribute("action", fvdefault);
            }
        }
    </script>



</body></html>
