<html lang="en"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunch Form</title>
    <link rel="stylesheet" href="main.css">
</head>

<body>

    <h2>Zoo Trip Planning</h2>

        <form id="exForm" action="php_handler.php" method="GET">

        <fieldset><legend>Stay Duration and Animal Choice</legend>
            
            <input type="radio" name="time" id="rd1" value="1hr">
            <label for="rd1">1 hour</label><br>
            
            <input type="radio" name="time" id="rd2" value="2hr">
            <label for="rd1">2 hours</label><br>

            <input type="radio" name="time" id="rd3" value="3hr">
            <label for="rd1">3 hours</label><br>

            <input type="radio" name="time" id="rd4" value="4hr">
            <label for="rd1">4 hours</label><br>

            <br>
            
            <input type="checkbox" name="penguins" id="cb1">
            <label for="cb1">Penguins</label><br>

            <input type="checkbox" name="jaguars" id="cb2">
            <label for="cb2">Jaguars</label><br>

            <input type="checkbox" name="elephants" id="cb3">
            <label for="cb3">Elephants</label><br>

            <input type="checkbox" name="peacocks" id="cb4">
            <label for="cb4">Peacocks</label><br>

            <input type="checkbox" name="snakes" id="cb5">
            <label for="cb5">Snakes</label><br>
            
            <input type="checkbox" name="bears" id="cb6">
            <label for="cb6">Bears</label><br>
        </fieldset>
        <br>
        <fieldset><legend>Snack and Drink Choice</legend>
            <label for="snack">Snack:</label>
            <select name="snack" id="snack">
                <optgroup label="Homemade">
                    <option value="homemade_tm">Trail Mix</option>
                    <option value="pbj">PB & J</option>
                </optgroup>
                <optgroup label="Store Bought">
                    <option value="granola" selected="">Granola Bar</option>
                    <option value="store_tm">Trail Mix</option>
                </optgroup>
            </select><br><br>

            <label for="drink">Drink:</label>
            <select name="drink[]" id="drink" size="2" multiple="">
                <option value="water">Water</option>
                <option value="oj">Orange Juice</option>
                <option value="lemonade">Lemonade</option>
                <option value="7up">7 Up</option>
                <option value="coke">Coca Cola</option>
                <option value="pepsi">Pepsi</option>
                <option value="dr_pep">Dr Pepper</option>
            </select><br>
        </fieldset>
        <br>
        <input type="submit" value="Submit Choices">  <input type="reset" value="Reset Choices">      
        </form>



    <script>
        // get the first (and only) form element; get it's value
        const form = document.querySelector("form");

        // set GET or POST options
        const radioButtons = document.querySelectorAll('input[name="send_method"]');
        const method = document.getElementById("method");
        let selectedValue;
        const getOrPost = document.getElementById("getOrPost")
        getOrPost.addEventListener("click", ()=> {
            radioButtons.forEach(radioButton => {
                if (radioButton.checked) {
                    method.innerHTML = radioButton.value;
                    form.setAttribute("method", radioButton.value)
                }
            })
        })
        
        

        // get the input box element
        const fvbox = document.getElementById("fv");
        // on input, evaluate task...
        fvbox.addEventListener("input", handleInput);

        function handleInput() {
            // if it's there, change form action to input box string
            if(fvbox.value != ""){
                form.setAttribute("action", fvbox.value)
            }
            else {
                fvdefault = "form-viewer.php";
                form.setAttribute("action", fvdefault);
            }
        }
    </script>



</body></html>
